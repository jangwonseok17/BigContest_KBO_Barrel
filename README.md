# BigContest_KBO_Barrel

## 「프로야구 배럴(Barrel)」 을 통한 타자 성적 예측
스포츠투아이에서 제공하는 야구데이터(타자 기본정보, 타자 트래킹 데이터 등)를 활용하여 좋은 타구(배럴)에 대하여 정의하고, 타자 성적 예측 모형 개발을 통한 타자의 OPS(장타율+출루율) 예측

## 1. 문제정의
- 배럴타구 : 타구 속도와 발사각도의 조합상 평균적으로 타율 .500, 장타율 1.500이상을 생산하는 타구, 미국 기준이 아닌 한국 기준의 배럴타구 정의
- OPS : 선수의 출루 능력과 장타 능력을 하나의 숫자로 나타낼 수 있는 지표
- 예측 기간 : 2021시즌 09월 15일 ~ 10월 08일

## 2. 데이터 개요 및 분석 목표
- 제공 데이터
  - 타구 트래킹.csv
  - 연도별 타자 성적.csv
  - 선수 정보.csv
  - 경기 일정.csv
  - 팀 이름 정보.csv
  - 월별 타자 성적.csv(추가 크롤링 파일)
- 분석 방법 및 목표
  1. 전처리 및 EDA
  2. 배럴타구 정의
  3. 모델링
  4. 결과 해석

## 3. 데이터 전처리
- 번트 타구 삭제
- 타구속도와 발사각도에 대한 이상치 제거
- 일정 타수(16) 이하 선수 데이터 제거
- 장타(2루타, 3루타, 홈런)와 장타가 아닌 타구(1루타) 구분
- 타자 성적 세분화를 위해 KBO 사이트 월별 타자 성적 크롤링 

## 4. EDA
- 안타와 아웃타구의 타구속도, 발사각도에 대한 평군 검정 결과, p-value < 0.05이므로 타구속도와 발사각도에 대한 두 집단 간의 유의미한 차이가 있음
- 안타와 아웃타구의 투구구속에 대한 평균 검정 결과, p-value > 0.05이므로 두 집단 간의 유의미한 차이가 없음
- 장타와 비장타타구의 타구속도와 발사각도에 대한 평균 검정 결과 p-value < 0.05이므로 타구속도와 발사각도에 대한 두 집단 간의 유의미한 차이가 있음
- 장타와 비장타타구의 투구구속에 대한 평균 검정 결과, p-value > 0.05이므로 두 집단 간의 유의미한 차이가 없음

## 5. 배럴타구 정의
1. 특정 데이터 추출 : 2루타, 3루타, 홈런
2. 이상치 제거 : IQR 기준 타구속도 및 발사각도 
3. 산점도 결과 발사각도가 타구속도보다 중요

![image](https://user-images.githubusercontent.com/83684431/171026640-d76b5609-c918-4965-a93a-c20bd273d2da.png)

4. 위 산점도의 발사각도(15 ~ 35도)의 타구속도 별 타율 : 배럴 기준인 .500 이상

![image](https://user-images.githubusercontent.com/83684431/171026898-419ff6a6-1072-4034-8a21-960d12dbec8a.png)

### 5. 배럴타구 정의

![image](https://user-images.githubusercontent.com/83684431/171027046-ac3d5769-f253-4ebe-946a-efae396873d9.png)

## 6. 모델링
- 회귀
  - Lasso
  - Ridge
- 앙상블
  - Random Forest
  - XGBoost
  - CatBoost
